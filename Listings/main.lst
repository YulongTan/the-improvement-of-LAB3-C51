A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\main.obj
ASSEMBLER INVOKED BY: D:\STM32\MDK(keil)\C51\BIN\A51.EXE main.a51 NOMOD51 INCDIR(..\Improvement) SET(SMALL) DEBUG PRINT(
                      .\Listings\main.lst) OBJECT(.\Objects\main.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;------------------------------------
                       2     ;-  Generated Initialization File  --
                       3     ;TABLE1ÊÇË³Ê±ÕëµãÁÁÊÂë¹ÜÑ­»·µÄ±í¸ñ
                       4     ;TABLE3ÊÇÊÂë¹ÜÏÔÊ¾Ê×Ö0-9µÄ±í¸ñ
                       5     ;PSW.1Ä¬ÈÏÎª0ÄæÊ±Õë
                       6     ;R0ÓÃÓÚÏÔÊ¾Ê×Ö
                       7     ;R7´æ´¢ÏÔÊ¾Ê×ÖµÄÕûÊ²¿·Ö
                       8     ;R6´æ´¢ÏÔÊ¾Ê×ÖµÄÐ¡Ê²¿·Ö
                       9     ;R2 DELAY1MSµÄ´ÎÊ
                      10     ;------------------------------------
                      11     
                      12     ;$include (C8051F310.inc)
                +1    13     ;---------------------------------------------------------------------------
                +1    14     ;  FILE NAME   : C8051F310.INC
                +1    15     ;  TARGET MCUs : C8051F310, 'F311
                +1    16     ;  DESCRIPTION : Register/bit definitions for the C8051F31x product family.
                +1    17     ;
                +1    18     ;  REVISION 1.3
                +1    19     ;     -- added ESPI0 and PSPI0
                +1    20     ;  REVISION 1.2
                +1    21     ;     -- added VDM0CN (0xff)   
                +1    22     ;
                +1    23     ;  REVISION 1.1
                +1    24     ;     -- changed TARGET MCUs to 'F310, 'F311
                +1    25     ;     -- SPICFG --> SPI0CFG
                +1    26     ;     -- SPICKR --> SPI0CKR
                +1    27     ;     -- SPIDAT --> SPI0DAT
                +1    28     ;     -- removed CLKMUL (0xb9)
                +1    29     ;     -- AMUX0N --> AMX0N
                +1    30     ;     -- AMUX0P --> AMX0P
                +1    31     ;
                +1    32     ;---------------------------------------------------------------------------
                +1    33     
                +1    34     ; BYTE Registers 
  0080          +1    35     P0       DATA  080H     ; PORT 0                                                   
  0081          +1    36     SP       DATA  081H     ; STACK POINTER                                            
  0082          +1    37     DPL      DATA  082H     ; DATA POINTER - LOW BYTE                                  
  0083          +1    38     DPH      DATA  083H     ; DATA POINTER - HIGH BYTE                                 
  0087          +1    39     PCON     DATA  087H     ; POWER CONTROL                                            
  0088          +1    40     TCON     DATA  088H     ; TIMER CONTROL                                            
  0089          +1    41     TMOD     DATA  089H     ; TIMER MODE                                               
  008A          +1    42     TL0      DATA  08AH     ; TIMER 0 - LOW BYTE                                       
  008B          +1    43     TL1      DATA  08BH     ; TIMER 1 - LOW BYTE                                       
  008C          +1    44     TH0      DATA  08CH     ; TIMER 0 - HIGH BYTE                                      
  008D          +1    45     TH1      DATA  08DH     ; TIMER 1 - HIGH BYTE                                      
  008E          +1    46     CKCON    DATA  08EH     ; CLOCK CONTROL                                            
  008F          +1    47     PSCTL    DATA  08FH     ; PROGRAM STORE R/W CONTROL                                
  0090          +1    48     P1       DATA  090H     ; PORT 1                                                   
  0091          +1    49     TMR3CN   DATA  091H     ; TIMER 3 CONTROL                                          
  0092          +1    50     TMR3RLL  DATA  092H     ; TIMER 3 RELOAD LOW                                       
  0093          +1    51     TMR3RLH  DATA  093H     ; TIMER 3 RELOAD HIGH                                      
  0094          +1    52     TMR3L    DATA  094H     ; TIMER 3 LOW BYTE                                         
  0095          +1    53     TMR3H    DATA  095H     ; TIMER 3 HIGH BYTE                                        
  0098          +1    54     SCON0    DATA  098H     ; SERIAL PORT 0 CONTROL                                    
  0099          +1    55     SBUF0    DATA  099H     ; SERIAL PORT 0 BUFFER                                     
  009A          +1    56     CPT1CN   DATA  09AH     ; COMPARATOR 1 CONTROL                                     
  009B          +1    57     CPT0CN   DATA  09BH     ; COMPARATOR 0 CONTROL                                     
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     2

  009C          +1    58     CPT1MD   DATA  09CH     ; COMPARATOR 1 MODE                                        
  009D          +1    59     CPT0MD   DATA  09DH     ; COMPARATOR 0 MODE                                        
  009E          +1    60     CPT1MX   DATA  09EH     ; COMPARATOR 1 MUX                                         
  009F          +1    61     CPT0MX   DATA  09FH     ; COMPARATOR 0 MUX                                         
  00A0          +1    62     P2       DATA  0A0H     ; PORT 2                                                   
  00A1          +1    63     SPI0CFG  DATA  0A1H     ; SPI0 CONFIGURATION                                        
  00A2          +1    64     SPI0CKR  DATA  0A2H     ; SPI0 CLOCK CONFIGURATION                                  
  00A3          +1    65     SPI0DAT  DATA  0A3H     ; SPI0 DATA                                         
  00A4          +1    66     P0MDOUT  DATA  0A4H     ; PORT 0 OUTPUT MODE                                       
  00A5          +1    67     P1MDOUT  DATA  0A5H     ; PORT 1 OUTPUT MODE                                       
  00A6          +1    68     P2MDOUT  DATA  0A6H     ; PORT 2 OUTPUT MODE                                       
  00A7          +1    69     P3MDOUT  DATA  0A7H     ; PORT 3 OUTPUT MODE                                       
  00A8          +1    70     IE       DATA  0A8H     ; INTERRUPT ENABLE                                         
  00A9          +1    71     CLKSEL   DATA  0A9H     ; CLOCK SOURCE SELECT                                      
  00AA          +1    72     EMI0CN   DATA  0AAH     ; EXTERNAL MEMORY INTERFACE CONTROL                        
  00B0          +1    73     P3       DATA  0B0H     ; PORT 3                                                   
  00B1          +1    74     OSCXCN   DATA  0B1H     ; EXTERNAL OSCILLATOR CONTROL                              
  00B2          +1    75     OSCICN   DATA  0B2H     ; INTERNAL OSCILLATOR CONTROL                              
  00B3          +1    76     OSCICL   DATA  0B3H     ; INTERNAL OSCILLATOR CALIBRATION                          
  00B5          +1    77     FLACL    DATA  0B5H     ; FLASH ACCESS LIMIT
  00B6          +1    78     FLSCL    DATA  0B6H     ; FLASH SCALE                                              
  00B7          +1    79     FLKEY    DATA  0B7H     ; FLASH LOCK & KEY                                         
  00B8          +1    80     IP       DATA  0B8H     ; INTERRUPT PRIORITY   
  00BA          +1    81     AMX0N    DATA  0BAH     ; ADC0 MUX NEGATIVE CHANNEL SELECTION                      
  00BB          +1    82     AMX0P    DATA  0BBH     ; ADC0 MUX POSITIVE CHANNEL SELECTION                      
  00BC          +1    83     ADC0CF   DATA  0BCH     ; ADC0 CONFIGURATION                                       
  00BD          +1    84     ADC0L    DATA  0BDH     ; ADC0 DATA LOW                                            
  00BE          +1    85     ADC0H    DATA  0BEH     ; ADC0 DATA HIGH                                           
  00C0          +1    86     SMB0CN   DATA  0C0H     ; SMBUS CONTROL                                            
  00C1          +1    87     SMB0CF   DATA  0C1H     ; SMBUS CONFIGURATION                                      
  00C2          +1    88     SMB0DAT  DATA  0C2H     ; SMBUS DATA                                             
  00C3          +1    89     ADC0GTL  DATA  0C3H     ; ADC0 GREATER-THAN LOW                                    
  00C4          +1    90     ADC0GTH  DATA  0C4H     ; ADC0 GREATER-THAN HIGH                                   
  00C5          +1    91     ADC0LTL  DATA  0C5H     ; ADC0 LESS-THAN LOW                                       
  00C6          +1    92     ADC0LTH  DATA  0C6H     ; ADC0 LESS-THAN HIGH                                      
  00C8          +1    93     TMR2CN   DATA  0C8H     ; TIMER 2 CONTROL                                                
  00CA          +1    94     TMR2RLL  DATA  0CAH     ; TIMER 2 RELOAD LOW                                       
  00CB          +1    95     TMR2RLH  DATA  0CBH     ; TIMER 2 RELOAD HIGH                                      
  00CC          +1    96     TMR2L    DATA  0CCH     ; TIMER 2 LOW BYTE                                         
  00CD          +1    97     TMR2H    DATA  0CDH     ; TIMER 2 HIGH BYTE                                        
  00D0          +1    98     PSW      DATA  0D0H     ; PROGRAM STATUS WORD                                      
  00D1          +1    99     REF0CN   DATA  0D1H     ; VOLTAGE REFERENCE 0 CONTROL                              
  00D4          +1   100     P0SKIP   DATA  0D4H     ; PORT 0 CROSSBAR SKIP                                     
  00D5          +1   101     P1SKIP   DATA  0D5H     ; PORT 1 CROSSBAR SKIP                                     
  00D6          +1   102     P2SKIP   DATA  0D6H     ; PORT 2 CROSSBAR SKIP     
  00D8          +1   103     PCA0CN   DATA  0D8H     ; PCA0 CONTROL                                             
  00D9          +1   104     PCA0MD   DATA  0D9H     ; PCA0 MODE                                                
  00DA          +1   105     PCA0CPM0 DATA  0DAH     ; PCA0 MODULE 0 MODE                                       
  00DB          +1   106     PCA0CPM1 DATA  0DBH     ; PCA0 MODULE 1 MODE                                       
  00DC          +1   107     PCA0CPM2 DATA  0DCH     ; PCA0 MODULE 2 MODE     
  00DD          +1   108     PCA0CPM3 DATA  0DDH     ; PCA0 MODULE 3 MODE                                       
  00DE          +1   109     PCA0CPM4 DATA  0DEH     ; PCA0 MODULE 4 MODE                                    
  00E0          +1   110     ACC      DATA  0E0H     ; ACCUMULATOR                                              
  00E1          +1   111     XBR0     DATA  0E1H     ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0                
  00E2          +1   112     XBR1     DATA  0E2H     ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1                
  00E4          +1   113     IT01CF   DATA  0E4H     ; INT0/INT1 CONFIGURATION                                  
  00E6          +1   114     EIE1     DATA  0E6H     ; EXTERNAL INTERRUPT ENABLE 1                     
  00E8          +1   115     ADC0CN   DATA  0E8H     ; ADC 0 CONTROL                                            
  00E9          +1   116     PCA0CPL1 DATA  0E9H     ; PCA0 MODULE 1 CAPTURE/COMPARE REGISTER LOW BYTE          
  00EA          +1   117     PCA0CPH1 DATA  0EAH     ; PCA0 MODULE 1 CAPTURE/COMPARE REGISTER HIGH BYTE         
  00EB          +1   118     PCA0CPL2 DATA  0EBH     ; PCA0 MODULE 2 CAPTURE/COMPARE REGISTER LOW BYTE          
  00EC          +1   119     PCA0CPH2 DATA  0ECH     ; PCA0 MODULE 2 CAPTURE/COMPARE REGISTER HIGH BYTE         
  00ED          +1   120     PCA0CPL3 DATA  0EDH     ; PCA0 MODULE 3 CAPTURE/COMPARE REGISTER LOW BYTE          
  00EE          +1   121     PCA0CPH3 DATA  0EEH     ; PCA0 MODULE 3 CAPTURE/COMPARE REGISTER HIGH BYTE         
  00EF          +1   122     RSTSRC   DATA  0EFH     ; RESET SOURCE                                             
  00F0          +1   123     B        DATA  0F0H     ; B REGISTER                                               
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     3

  00F1          +1   124     P0MDIN   DATA  0F1H     ; PORT 0 INPUT MODE REGISTER                               
  00F2          +1   125     P1MDIN   DATA  0F2H     ; PORT 1 INPUT MODE REGISTER                               
  00F3          +1   126     P2MDIN   DATA  0F3H     ; PORT 2 INPUT MODE REGISTER                               
  00F4          +1   127     P3MDIN   DATA  0F4H     ; PORT 3 INPUT MODE REGISTER                               
  00F6          +1   128     EIP1     DATA  0F6H     ; EXTERNAL INTERRUPT PRIORITY 1
  00F8          +1   129     SPI0CN   DATA  0F8H     ; SPI0 CONTROL                                             
  00F9          +1   130     PCA0L    DATA  0F9H     ; PCA0 COUNTER REGISTER LOW BYTE                           
  00FA          +1   131     PCA0H    DATA  0FAH     ; PCA0 COUNTER REGISTER HIGH BYTE                          
  00FB          +1   132     PCA0CPL0 DATA  0FBH     ; PCA MODULE 0 CAPTURE/COMPARE REGISTER LOW BYTE           
  00FC          +1   133     PCA0CPH0 DATA  0FCH     ; PCA MODULE 0 CAPTURE/COMPARE REGISTER HIGH BYTE          
  00FD          +1   134     PCA0CPL4 DATA  0FDH     ; PCA MODULE 4 CAPTURE/COMPARE REGISTER LOW BYTE           
  00FE          +1   135     PCA0CPH4 DATA  0FEH     ; PCA MODULE 4 CAPTURE/COMPARE REGISTER HIGH BYTE      
  00FF          +1   136     VDM0CN    DATA  0FFH ; VDD MONITOR CONTROL
                +1   137     
                +1   138     ;------------------------------------------------------------------------------
                +1   139     ;BIT DEFINITIONS
                +1   140     ;
                +1   141     ; TCON 88H
  0088          +1   142     IT0      BIT   TCON.0   ; EXT. INTERRUPT 0 TYPE
  0089          +1   143     IE0      BIT   TCON.1   ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   144     IT1      BIT   TCON.2   ; EXT. INTERRUPT 1 TYPE
  008B          +1   145     IE1      BIT   TCON.3   ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   146     TR0      BIT   TCON.4   ; TIMER 0 ON/OFF CONTROL
  008D          +1   147     TF0      BIT   TCON.5   ; TIMER 0 OVERFLOW FLAG
  008E          +1   148     TR1      BIT   TCON.6   ; TIMER 1 ON/OFF CONTROL
  008F          +1   149     TF1      BIT   TCON.7   ; TIMER 1 OVERFLOW FLAG
                +1   150     
                +1   151     ; SCON0  0x98 
  0098          +1   152     RI0      BIT   SCON0.0  ; RECEIVE INTERRUPT FLAG                                
  0099          +1   153     TI0      BIT   SCON0.1  ; TRANSMIT INTERRUPT FLAG                               
  009A          +1   154     RB80     BIT   SCON0.2  ; RECEIVE BIT 8                                         
  009B          +1   155     TB80     BIT   SCON0.3  ; TRANSMIT BIT 8                                        
  009C          +1   156     REN0     BIT   SCON0.4  ; RECEIVE ENABLE                                        
  009D          +1   157     MCE0     BIT   SCON0.5  ; MULTIPROCESSOR COMMUNICATION ENABLE                   
  009F          +1   158     S0MODE   BIT   SCON0.7  ; SERIAL MODE CONTROL BIT 0                             
                +1   159     
                +1   160     ; IE  0xA8 
  00A8          +1   161     EX0      BIT   IE.0     ; EXTERNAL INTERRUPT 0 ENABLE                           
  00A9          +1   162     ET0      BIT   IE.1     ; TIMER 0 INTERRUPT ENABLE                              
  00AA          +1   163     EX1      BIT   IE.2     ; EXTERNAL INTERRUPT 1 ENABLE                           
  00AB          +1   164     ET1      BIT   IE.3     ; TIMER 1 INTERRUPT ENABLE                              
  00AC          +1   165     ES0      BIT   IE.4     ; UART0 INTERRUPT ENABLE                                
  00AD          +1   166     ET2      BIT   IE.5     ; TIMER 2 INTERRUPT ENABLE                              
  00AE          +1   167     ESPI0    BIT   IE.6     ; SPI0 INTERRUPT ENABLE
  00AF          +1   168     EA       BIT   IE.7     ; GLOBAL INTERRUPT ENABLE                               
                +1   169     
                +1   170     ; IP  0xB8 
  00B8          +1   171     PX0      BIT   IP.0     ; EXTERNAL INTERRUPT 0 PRIORITY                         
  00B9          +1   172     PT0      BIT   IP.1     ; TIMER 0 PRIORITY                                      
  00BA          +1   173     PX1      BIT   IP.2     ; EXTERNAL INTERRUPT 1 PRIORITY                         
  00BB          +1   174     PT1      BIT   IP.3     ; TIMER 1 PRIORITY                                      
  00BC          +1   175     PS0      BIT   IP.4     ; UART0 PRIORITY                                        
  00BD          +1   176     PT2      BIT   IP.5     ; TIMER 2 PRIORITY                                      
  00BE          +1   177     PSPI0    BIT   IP.6     ; SPI0 INTERRUPT PRIORITY
                +1   178     
                +1   179     ; SMB0CN 0xC0 
  00C0          +1   180     SI       BIT   SMB0CN.0 ; SMBUS0 INTERRUPT FLAG                                 
  00C1          +1   181     ACK      BIT   SMB0CN.1 ; ACKNOWLEDGE FLAG                                      
  00C2          +1   182     ARBLOST  BIT   SMB0CN.2 ; ARBITRATION LOST INDICATOR                            
  00C3          +1   183     ACKRQ    BIT   SMB0CN.3 ; ACKNOWLEDGE REQUEST                                   
  00C4          +1   184     STO      BIT   SMB0CN.4 ; STOP FLAG                                             
  00C5          +1   185     STA      BIT   SMB0CN.5 ; START FLAG                                            
  00C6          +1   186     TXMODE   BIT   SMB0CN.6 ; TRANSMIT MODE INDICATOR                               
  00C7          +1   187     MASTER   BIT   SMB0CN.7 ; MASTER/SLAVE INDICATOR                                
                +1   188     
                +1   189     ; TMR2CN 0xC8 
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     4

  00C8          +1   190     T2XCLK   BIT   TMR2CN.0 ; TIMER 2 EXTERNAL CLOCK SELECT                         
  00CA          +1   191     TR2      BIT   TMR2CN.2 ; TIMER 2 ON/OFF CONTROL                                
  00CB          +1   192     T2SPLIT  BIT   TMR2CN.3 ; TIMER 2 SPLIT MODE ENABLE                             
  00CD          +1   193     TF2LEN   BIT   TMR2CN.5 ; TIMER 2 LOW BYTE INTERRUPT ENABLE                     
  00CE          +1   194     TF2L     BIT   TMR2CN.6 ; TIMER 2 LOW BYTE OVERFLOW FLAG                        
  00CF          +1   195     TF2H     BIT   TMR2CN.7 ; TIMER 2 HIGH BYTE OVERFLOW FLAG                       
                +1   196     
                +1   197     ; PSW 0xD0 
  00D0          +1   198     P        BIT   PSW.0    ; ACCUMULATOR PARITY FLAG                               
  00D1          +1   199     F1       BIT   PSW.1    ; USER FLAG 1                                           
  00D2          +1   200     OV       BIT   PSW.2    ; OVERFLOW FLAG                                         
  00D3          +1   201     RS0      BIT   PSW.3    ; REGISTER BANK SELECT 0                                
  00D4          +1   202     RS1      BIT   PSW.4    ; REGISTER BANK SELECT 1                                
  00D5          +1   203     F0       BIT   PSW.5    ; USER FLAG 0                                           
  00D6          +1   204     AC       BIT   PSW.6    ; AUXILIARY CARRY FLAG                                  
  00D7          +1   205     CY       BIT   PSW.7    ; CARRY FLAG                                            
                +1   206     
                +1   207     ; PCA0CN 0xD8H 
  00D8          +1   208     CCF0     BIT   PCA0CN.0 ; PCA0 MODULE 0 CAPTURE/COMPARE FLAG                    
  00D9          +1   209     CCF1     BIT   PCA0CN.1 ; PCA0 MODULE 1 CAPTURE/COMPARE FLAG                    
  00DA          +1   210     CCF2     BIT   PCA0CN.2 ; PCA0 MODULE 2 CAPTURE/COMPARE FLAG                    
  00DB          +1   211     CCF3     BIT   PCA0CN.3 ; PCA0 MODULE 3 CAPTURE/COMPARE FLAG                    
  00DC          +1   212     CCF4     BIT   PCA0CN.4 ; PCA0 MODULE 4 CAPTURE/COMPARE FLAG                    
  00DE          +1   213     CR       BIT   PCA0CN.6 ; PCA0 COUNTER RUN CONTROL                              
  00DF          +1   214     CF       BIT   PCA0CN.7 ; PCA0 COUNTER OVERFLOW FLAG                            
                +1   215     
                +1   216     ; ADC0CN 0xE8H 
  00E8          +1   217     AD0CM0   BIT   ADC0CN.0 ; ADC0 CONVERSION MODE SELECT 0                         
  00E9          +1   218     AD0CM1   BIT   ADC0CN.1 ; ADC0 CONVERSION MODE SELECT 1                         
  00EA          +1   219     AD0CM2   BIT   ADC0CN.2 ; ADC0 CONVERSION MODE SELECT 2                         
  00EB          +1   220     AD0WINT  BIT   ADC0CN.3 ; ADC0 WINDOW COMPARE INTERRUPT FLAG                    
  00EC          +1   221     AD0BUSY  BIT   ADC0CN.4 ; ADC0 BUSY FLAG                                        
  00ED          +1   222     AD0INT   BIT   ADC0CN.5 ; ADC0 CONVERISION COMPLETE INTERRUPT FLAG              
  00EE          +1   223     AD0TM    BIT   ADC0CN.6 ; ADC0 TRACK MODE                                       
  00EF          +1   224     AD0EN    BIT   ADC0CN.7 ; ADC0 ENABLE                                           
                +1   225     
                +1   226     ; SPI0CN 0xF8H 
  00FF          +1   227     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG                                  
  00FE          +1   228     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG                            
  00FD          +1   229     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG                                 
  00FC          +1   230     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG                                 
  00FB          +1   231     NSSMD1   BIT   SPI0CN.3 ; SPI 0 SLAVE SELECT MODE 1                             
  00FA          +1   232     NSSMD0   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT MODE 0                             
  00F9          +1   233     TXBMT    BIT   SPI0CN.1 ; SPI 0 TRANSMIT BUFFER EMPTY                           
  00F8          +1   234     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE                                      
                     235     
  0080               236               LED BIT P0.0
  00B1               237               BEEP  BIT P3.1
  0081               238               KINT BIT P0.1
  0030               239               MN EQU 30H
  0031               240               COUNT EQU 31H
0000                 241               ORG 0000H
0000 020100          242               LJMP MAIN
0003                 243               ORG 0003H
0003 020300          244               LJMP INTT0 ;0300H
0100                 245               ORG 0100H
0100 D153            246     MAIN: ACALL Init_Device
0102 75811F          247           MOV SP,#1FH
0105 C2B1            248           CLR BEEP
0107 C2D5            249               CLR F0
0109 C2D1            250               CLR PSW.1
010B 9150            251     LOOP: ACALL START
010D 9161            252           ACALL ORIENT        
010F 919B            253           ACALL MOOD
0111 B15A            254               ACALL BIGNEW
0113 80FE            255               SJMP $
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     5

                     256                       
                     257     ;--------------------------------------------------------------------ÖÐ¶ÏÇøÓò--------------
                             ---------------------------------
                     258     ;-------ÖÐ¶Ï0ÁÁµÆ--------
0300                 259           ORG 0300H
0300                 260     INTT0:
0300 B280            261           CPL LED
0302 1205E6          262           LCALL D0_5s
                     263     ;      CPL BEEP
                     264     ;         LCALL D2s
                     265     ;         CPL BEEP
0305 B2D5            266           CPL F0
0307 D28C            267               SETB TR0
0309 32              268           RETI
                     269     ;-------end---------
                     270     ;---------------------------------------------------------------------ÖÐ¶Ï½áÊø-------------
                             --------------------------------------
                     271     ;--------------------------------------------------------------------×Ó³ÌÐòÇøÓò------------
                             --------------------------------------------------
                     272     ;------------------------------------------------------------¼üÅÌÉ¨Ãè----------------------
                             -----------------------------------
030A                 273     KEYPRO:
030A C082            274           PUSH DPL
030C C083            275               PUSH DPH
030E 719E            276           ACALL KEXAM
0310 40F8            277           JC KEYPRO
0312 B1D3            278               ACALL D10ms
0314 719E            279               ACALL KEXAM
0316 40F2            280               JC KEYPRO ;ÎÞ°´¼ü°´ÏÂÊ±C=1
0318 B1D3            281               ACALL D10ms
031A 719E            282               ACALL KEXAM
031C 40EC            283               JC KEYPRO
031E                 284     KEY1: 
031E 7BFF            285           MOV R3, #0FFH  ;ÁÐÖµ¼Ä´æÆ÷
0320 7C00            286               MOV R4, #00H  ;ÐÐÖµ¼Ä´æÆ÷
0322                 287     KEY2: 
0322 C2A0            288           CLR P2.0
0324 D2A1            289               SETB P2.1
0326 D2A2            290               SETB P2.2
0328 D2A3            291               SETB P2.3
032A 00              292               NOP
032B 00              293               NOP
032C 00              294               NOP
032D A2A4            295           MOV C, P2.4
032F 82A5            296               ANL C, P2.5
0331 82A6            297               ANL C, P2.6
0333 82A7            298               ANL C, P2.7
0335 5048            299               JNC KEY3  ;ÓÐ¼ü°´ÏÂ£¬×ªÇóÁÐÖµ
0337 EC              300               MOV A, R4  ;ÎÞ¼ü°´ÏÂ£¬ÐÐÖµ¼Ä´æÆ÷¼ÓÒ»
0338 2401            301               ADD A, #01H
033A FC              302               MOV R4, A
033B D2A0            303               SETB P2.0
033D C2A1            304           CLR P2.1
033F D2A2            305               SETB P2.2
0341 D2A3            306               SETB P2.3
0343 00              307               NOP
0344 00              308               NOP
0345 00              309               NOP
0346 A2A4            310           MOV C, P2.4
0348 82A5            311               ANL C, P2.5
034A 82A6            312               ANL C, P2.6
034C 82A7            313               ANL C, P2.7
034E 502F            314               JNC KEY3  ;ÓÐ¼ü°´ÏÂ£¬×ªÇóÁÐÖµ
0350 EC              315               MOV A, R4  ;ÎÞ¼ü°´ÏÂ£¬ÐÐÖµ¼Ä´æÆ÷¼ÓÒ»
0351 2401            316               ADD A, #01H
0353 FC              317               MOV R4, A
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     6

0354 D2A0            318               SETB P2.0
0356 D2A1            319               SETB P2.1
0358 C2A2            320           CLR P2.2
035A D2A3            321               SETB P2.3
035C 00              322               NOP
035D 00              323               NOP
035E 00              324               NOP
035F A2A4            325           MOV C, P2.4
0361 82A5            326               ANL C, P2.5
0363 82A6            327               ANL C, P2.6
0365 82A7            328               ANL C, P2.7
0367 5016            329               JNC KEY3  ;ÓÐ¼ü°´ÏÂ£¬×ªÇóÁÐÖµ
0369 EC              330               MOV A, R4  ;ÎÞ¼ü°´ÏÂ£¬ÐÐÖµ¼Ä´æÆ÷¼ÓÒ»
036A 2401            331               ADD A, #01H
036C FC              332               MOV R4, A       
036D C2A3            333           CLR P2.3
036F 00              334               NOP
0370 00              335               NOP
0371 00              336               NOP
0372 A2A4            337           MOV C, P2.4
0374 82A5            338               ANL C, P2.5
0376 82A6            339               ANL C, P2.6
0378 82A7            340               ANL C, P2.7
037A 5003            341               JNC KEY3  ;ÓÐ¼ü°´ÏÂ£¬×ªÇóÁÐÖµ
037C E4              342               CLR A
037D 610A            343               AJMP KEYPRO ;ÈôÈ«²¿É¨ÃèÍê±Ï£¬µÈ´ÏÂÒ»´ÎÉ¨Ãè
                     344           
037F E5A0            345     KEY3: MOV A, P2
0381 0B              346     KEY4: INC R3
0382 33              347               RLC A
0383 40FC            348               JC KEY4 ;C=1Ê±Ìø×ª
0385 B1D3            349     KEY5: ACALL D10ms
0387 719E            350           ACALL KEXAM
0389 50FA            351               JNC KEY5   ;ÓÐ¼ü°´ÏÂ,×ªÏòKEY5,µÈ´¼üÊÍ·Å
038B D2A0            352               SETB P2.0
038D D2A1            353               SETB P2.1
038F D2A2            354               SETB P2.2
0391 D2A3            355               SETB P2.3
0393 7403            356               MOV A, #03H
0395 C3              357               CLR C
0396 9B              358               SUBB A, R3
0397 75F004          359               MOV B, #04H
039A A4              360               MUL AB
039B 2C              361               ADD A, R4
039C 61BA            362               AJMP KEYADR
                     363     ;--------¼ì²â¼üÅÌÊÇ·ñ°´ÏÂ-------
039E C2A0            364     KEXAM:CLR P2.0
03A0 C2A1            365           CLR P2.1
03A2 C2A2            366               CLR P2.2
03A4 C2A3            367               CLR P2.3
03A6 00              368               NOP
03A7 00              369               NOP
03A8 00              370               NOP
03A9 A2A4            371               MOV C, P2.4
03AB 82A5            372               ANL C, P2.5
03AD 82A6            373               ANL C, P2.6
03AF 82A7            374               ANL C, P2.7
03B1 D2A0            375               SETB P2.0
03B3 D2A1            376               SETB P2.1
03B5 D2A2            377               SETB P2.2
03B7 D2A3            378               SETB P2.3
03B9 22              379               RET
                     380     ;--------¼ì²â½áÊø--------------
                     381     ;         AJMP KEYPRO
                     382     ;         RET
                     383     ;---------¹¦ÄÜ¼üµØÖ·×ªÒÆ------
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     7

03BA B40902          384     KEYADR:CJNE A, #09H, KYARD1
03BD 8108            385            AJMP DIGPRO          ;DIGPROÊ×Ö¼ü´¦Àí
03BF 4047            386     KYARD1:JC DIGPRO
03C1 9003C9          387     KEYTBL:MOV DPTR, #JMPTBL
03C4 C3              388            CLR C
03C5 940A            389                SUBB A, #10
03C7 23              390                RL A
03C8 73              391                JMP @A+DPTR
03C9 61D6            392     JMPTBL:AJMP FUNC1
03CB 61DA            393            AJMP FUNC2
03CD 61E5            394                AJMP FUNC3
03CF 61F2            395                AJMP FUNC4
03D1 61F7            396                AJMP FUNC5
03D3 61FB            397                AJMP FUNC6
03D5 22              398            RET
                     399     ;----------½áÊø------------
                     400     ;-------¹¦ÄÜ°´¼ü³ÌÐò-------
03D6                 401     FUNC1:   
03D6 D2D5            402              SETB F0
03D8 814B            403              AJMP EXIT
03DA                 404     FUNC2:   
03DA B2D1            405              CPL PSW.1
03DC 7901            406                      MOV R1,#1
03DE 20D102          407                      JB PSW.1, NEXT
03E1 7900            408                      MOV R1,#0
03E3 814B            409     NEXT:    AJMP EXIT
03E5 EE              410     FUNC3:   MOV A, R6
03E6 04              411              INC A
03E7 B40A05          412                      CJNE A, #10,HERE
03EA EF              413                      MOV A, R7
03EB 04              414                      INC A
03EC FF              415                      MOV R7, A
03ED 7400            416                      MOV A, #00H
03EF FE              417     HERE:    MOV R6,A
03F0 814B            418                      AJMP EXIT
03F2 EF              419     FUNC4:   MOV A, R7
03F3 04              420              INC A
03F4 FF              421                      MOV R7,A
03F5 814B            422                      AJMP EXIT
03F7 B2D1            423     FUNC5:   CPL PSW.1
03F9 814B            424                      AJMP EXIT
03FB EE              425     FUNC6:   MOV A, R6
03FC 14              426              DEC A
03FD B4FF05          427                      CJNE A, #0FFH, HERE1            
0400 EF              428                      MOV A, R7
0401 14              429                      DEC A
0402 FF              430                      MOV R7,A
0403 7409            431                      MOV A, #09H
0405 FE              432     HERE1:   MOV R6,A
0406 814B            433              AJMP EXIT              
                     434     
                     435     ;-------½áÊø-------------
                     436     ;-------Ê×Ö°´¼ü´¦Àí---
0408                 437     DIGPRO:
0408 90040E          438            MOV DPTR, #JMPNUM
040B C3              439                CLR C
040C 23              440                RL A
040D 73              441                JMP @A+DPTR
040E 8123            442     JMPNUM:AJMP NUM0
0410 8127            443            AJMP NUM1
0412 812B            444                AJMP NUM2
0414 812F            445                AJMP NUM3
0416 8133            446                AJMP NUM4
0418 8137            447                AJMP NUM5
041A 813B            448                AJMP NUM6
041C 813F            449                AJMP NUM7
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     8

041E 8143            450                AJMP NUM8
0420 8147            451                AJMP NUM9
0422 22              452                RET
                     453     ;--------Ê×Ö°´¼ü¹¦ÄÜ------
0423 7900            454     NUM0:  MOV R1,#0
0425 814B            455                AJMP EXIT
0427 7901            456     NUM1:  MOV R1,#1
0429 814B            457            AJMP EXIT
042B 7902            458     NUM2:  MOV R1,#2
042D 814B            459            AJMP EXIT
042F 7903            460     NUM3:  MOV R1,#3
0431 814B            461            AJMP EXIT
0433 7904            462     NUM4:  MOV R1,#4
0435 814B            463            AJMP EXIT
0437 7905            464     NUM5:  MOV R1,#5
0439 814B            465            AJMP EXIT
043B 7906            466     NUM6:  MOV R1,#6
043D 814B            467            AJMP EXIT
043F 7907            468     NUM7:  MOV R1,#7
0441 814B            469            AJMP EXIT
0443 7908            470     NUM8:  MOV R1,#8
0445 814B            471            AJMP EXIT
0447 7909            472     NUM9:  MOV R1,#9
0449 814B            473            AJMP EXIT
044B D083            474     EXIT:    POP DPH
044D D082            475              POP DPL
044F 22              476                      RET
                     477     ;       CPL LED
                     478     ;       AJMP KEYPRO
                     479     ;-------------------------------¼üÅÌÉ¨Ãè½áÊø------------------------------------------
0450 7800            480     START: MOV R0, #00H
0452 D286            481            SETB P0.6
0454 D287            482            SETB P0.7
0456 B12E            483            ACALL DISPLAY
0458 B1FD            484            ACALL D2s
045A D2B1            485                SETB BEEP
045C B1E6            486                ACALL D0_5S
045E C2B1            487                CLR BEEP
0460 22              488                RET
                     489     ;--------ÉèÖÃÑ­»··½Ïò---------------
0461 780C            490     ORIENT:MOV R0, #0CH
0463 D287            491            SETB P0.7
0465 D286            492                SETB P0.6
0467 B12E            493                ACALL DISPLAY
0469 C287            494                CLR P0.7
046B D286            495                SETB P0.6
046D 780B            496                MOV R0, #0BH
046F B12E            497                ACALL DISPLAY
0471 B1D3            498                ACALL D10ms
0473 719E            499                ACALL KEXAM
0475 40EA            500                JC ORIENT
0477 710A            501                ACALL KEYPRO
0479 E9              502                MOV A, R1
047A FD              503                MOV R5, A
047B 780C            504     ORI_LOP:MOV R0, #0CH
047D D287            505            SETB P0.7
047F D286            506                SETB P0.6
0481 B12E            507                ACALL DISPLAY
0483 C287            508                CLR P0.7
0485 D286            509                SETB P0.6
0487 ED              510            MOV A, R5
0488 F8              511                MOV R0, A
0489 B12E            512                ACALL DISPLAY
048B B1D3            513                ACALL D10ms
048D 719E            514                ACALL KEXAM
048F 40EA            515                JC ORI_LOP
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE     9

0491 710A            516                ACALL KEYPRO
0493 E9              517                MOV A, R1
0494 FD              518                MOV R5, A
0495 30D5E3          519                JNB F0, ORI_LOP
0498 C2D5            520                CLR F0
049A 22              521                RET
                     522     ;--------END-----------------------
                     523     ;--------ÉèÖÃÄ£Ê½ÉèÖÃÆµÂÊ-----------
049B                 524     MOOD:  
049B 780A            525     FIRST:MOV R0, #0AH
049D D287            526           SETB P0.7    ;3
049F D286            527               SETB P0.6
04A1 B12E            528           ACALL DISPLAY
04A3 D287            529               SETB P0.7    ;2
04A5 C286            530               CLR  P0.6
04A7 780B            531               MOV R0, #0BH
04A9 B144            532               ACALL DISPLAY1
04AB C287            533               CLR P0.7     ;1
04AD D286            534               SETB P0.6
04AF 780B            535               MOV R0, #0BH
04B1 B12E            536               ACALL DISPLAY
04B3 B1D3            537               ACALL D10ms
04B5 719E            538     STAY0:ACALL KEXAM
04B7 40E2            539               JC FIRST
04B9 710A            540               ACALL KEYPRO
04BB E9              541               MOV A, R1
04BC FF              542               MOV R7, A         ;½«ÕûÊ²¿·Ö´æÈëR7ÖÐ
04BD 780A            543     STAY1:MOV R0, #0AH           ;ÏÔÊ¾ÕûÊ²¿·Ö
04BF D287            544           SETB P0.7    ;3 ÏÔÊ¾M
04C1 D286            545               SETB P0.6
04C3 B12E            546           ACALL DISPLAY
04C5 D287            547               SETB P0.7    ;2
04C7 C286            548               CLR  P0.6
04C9 EF              549               MOV A, R7
04CA F8              550               MOV R0, A
04CB B144            551           ACALL DISPLAY1 ;ÏÔÊ¾ÊäÈëµÄÕûÊ²¿·Ö£¬Ð¡Ê²¿·ÖÔÝÊ±²»ÏÔÊ¾
04CD C287            552               CLR P0.7
04CF D286            553               SETB P0.6
04D1 780B            554               MOV R0, #0BH
04D3 B12E            555               ACALL DISPLAY
04D5 B1D3            556               ACALL D10ms
04D7 719E            557               ACALL KEXAM
04D9 40E2            558               JC STAY1
04DB 710A            559               ACALL KEYPRO
04DD E9              560               MOV A, R1
04DE FF              561               MOV R7, A
04DF 30D5DB          562               JNB F0, STAY1
04E2 C2D5            563               CLR F0            ;ÕûÊ²¿·ÖÒÑ¾­È·¶¨£¬½Ó×ÅÅÐ¶ÏÐ¡Ê²¿·Ö
04E4 780A            564     SECOND:MOV R0, #0AH      
04E6 D287            565           SETB P0.7    ;3 ÏÔÊ¾M
04E8 D286            566               SETB P0.6
04EA B12E            567           ACALL DISPLAY
04EC D287            568               SETB P0.7    ;2
04EE C286            569               CLR  P0.6
04F0 EF              570               MOV A, R7
04F1 F8              571               MOV R0, A
04F2 B144            572           ACALL DISPLAY1
04F4 C287            573               CLR P0.7
04F6 D286            574               SETB P0.6
04F8 780B            575               MOV R0, #0BH
04FA B12E            576               ACALL DISPLAY
04FC B1D3            577               ACALL D10ms
04FE 719E            578               ACALL KEXAM
0500 40E2            579               JC SECOND
0502 710A            580               ACALL KEYPRO
0504 E9              581               MOV A, R1
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    10

0505 FE              582               MOV R6,A                 
0506 780A            583     STAY3:MOV R0, #0AH           ;ÏÔÊ¾ÕûÊ²¿·Ö
0508 D287            584           SETB P0.7    ;3 ÏÔÊ¾M
050A D286            585               SETB P0.6
050C B12E            586           ACALL DISPLAY
050E D287            587               SETB P0.7    ;2
0510 C286            588               CLR  P0.6
0512 EF              589               MOV A, R7
0513 F8              590               MOV R0, A
0514 B144            591           ACALL DISPLAY1 ;ÏÔÊ¾ÊäÈëµÄÕûÊ²¿·Ö£¬Ð¡Ê²¿·ÖÔÝÊ±²»ÏÔÊ¾
0516 C287            592               CLR P0.7
0518 D286            593               SETB P0.6
051A EE              594               MOV A, R6
051B F8              595               MOV R0, A
051C B12E            596               ACALL DISPLAY
051E B1D3            597               ACALL D10ms
0520 719E            598               ACALL KEXAM
0522 40E2            599               JC STAY3
0524 710A            600               ACALL KEYPRO
0526 E9              601               MOV A,R1
0527 FE              602               MOV R6, A
0528 30D5DB          603               JNB F0, STAY3
052B C2D5            604               CLR F0            ;Ð¡Ê²¿·ÖÒÑ¾­È·¶¨
052D 22              605               RET
                     606     ;-----------END------------------------
                     607     ;---------ÊÂë¹ÜÏÔÊ¾-------
052E C0E0            608     DISPLAY: PUSH ACC
0530 C082            609              PUSH DPL
0532 C083            610              PUSH DPH
0534 E8              611              MOV A, R0
0535 900620          612                      MOV DPTR,#TABLE3
0538 93              613                      MOVC A,@A+DPTR
0539 F590            614                      MOV P1,A
053B B1C0            615                      ACALL D1ms
053D D083            616                      POP DPH
053F D082            617                      POP DPL
0541 D0E0            618                      POP ACC
                     619     
0543 22              620              RET
                     621     ;--------½áÊø---------------
                     622     ;---------´øÐ¡ÊµãµÄÊÂë¹ÜÏÔÊ¾-------
0544 C0E0            623     DISPLAY1:PUSH ACC
0546 C082            624              PUSH DPL
0548 C083            625              PUSH DPH
054A E8              626              MOV A, R0
054B 90062D          627                      MOV DPTR,#TABLE4
054E 93              628                      MOVC A,@A+DPTR
054F F590            629                      MOV P1,A
0551 B1C0            630                      ACALL D1ms
0553 D083            631                      POP DPH
0555 D082            632                      POP DPL
0557 D0E0            633                      POP ACC
                     634     
0559 22              635              RET
                     636     ;--------½áÊø---------------
                     637     ;--------´øÐ¡Ê²¿·ÖµÄÑ­»·¿É¿ØÁÁµÆ--------
055A                 638     BIGNEW: 
                     639             
055A                 640     BIG_LOP0:
055A 753106          641             MOV COUNT, #6
055D 900614          642     BIG_LOP:MOV DPTR, #TABLE1
0560 20D103          643                     JB PSW.1 ,BIG       ;PSW.1=1Ê±Ë³Ê±ÕëÑ­»·
0563 90061A          644             MOV DPTR, #TABLE2               ;PSW.1=0Ê±ÄæÊ±ÕëÑ­»·
0566 E4              645     BIG:    CLR A
0567 93              646             MOVC A, @A+DPTR
                     647     
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    11

0568 F530            648                     MOV MN, A
056A B176            649                     ACALL DEFER
056C 20D5F7          650     PAUSE1: JB F0, BIG
056F A3              651                     INC DPTR
0570 D531F3          652                     DJNZ COUNT, BIG
0573 A15A            653                     AJMP BIGNEW
0575 22              654                     RET
                     655                     
0576 C082            656     DEFER: PUSH DPL
0578 C083            657            PUSH DPH
057A EF              658            MOV A, R7
057B 75F00A          659            MOV B, #10
057E A4              660                MUL AB
057F 2E              661                ADD A, R6
0580 FD              662                MOV R5, A  ;R5´æ·Å×ÅÕâÁ½Î»Ê
0581 74A7            663                MOV A, #167
0583 8DF0            664            MOV B, R5
0585 84              665                DIV AB
0586 75F001          666                MOV B, #1
0589 A4              667                MUL AB
058A FA              668                MOV R2, A        
058B                 669     DEFER_LOP:                   ;Ò»´ÎÑ­»·´óÖÂÊÇ10MS
058B D286            670            SETB P0.6
058D D287            671                SETB P0.7
058F EF              672                MOV A, R7
0590 F8              673                MOV R0, A
0591 B144            674                ACALL DISPLAY1         ;Ò»Ö±´«µ½ÕâÀ´ÁË
0593 B1C0            675            ACALL D1ms
0595 B1C0            676                ACALL D1ms
0597 D287            677            SETB P0.7
0599 C286            678                CLR P0.6
059B EE              679                MOV A, R6
059C F8              680                MOV R0, A
059D B12E            681                ACALL DISPLAY
059F B1C0            682                ACALL D1ms
05A1 B1C0            683                ACALL D1ms
05A3 C286            684            CLR P0.6
05A5 C287            685                CLR P0.7
05A7 E530            686                MOV A, MN
05A9 F590            687                MOV P1, A            ;Ñ­»·ÁÁµÆ¸³Öµ
05AB B1C0            688                ACALL D1ms
05AD B1C0            689                ACALL D1ms
05AF B1C0            690                ACALL D1ms
05B1 B1C0            691                ACALL D1ms
05B3 719E            692                ACALL KEXAM
05B5 4002            693                JC DEF_L
05B7 710A            694                ACALL KEYPRO
                     695     
05B9 DAD0            696     DEF_L: DJNZ R2,DEFER_LOP
05BB D083            697                POP DPH
05BD D082            698                POP DPL
05BF 22              699                RET
                     700     ;------------END----------------------
                     701     ;-------DELAY 1MS-------
05C0 758901          702     D1ms: MOV TMOD,#01H
05C3 758CFE          703           MOV TH0,#0FEH
05C6 758A01          704               MOV TL0,#01H
05C9 D28C            705               SETB TR0
05CB 308DFD          706               JNB TF0,$
05CE C28D            707               CLR TF0
05D0 C28C            708               CLR TR0
05D2 22              709               RET
                     710     ;;-------delay 10ms-------
05D3 758901          711     D10ms:MOV TMOD,#01H
05D6 758CEC          712           MOV TH0,#0ECH
05D9 758A0F          713               MOV TL0,#0FH
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    12

05DC D28C            714               SETB TR0
05DE 308DFD          715               JNB TF0,$
05E1 C28D            716               CLR TF0
05E3 C28C            717               CLR TR0
05E5 22              718               RET
                     719     ;--------end------------        
                     720     ;-------delay 0.5s---------
05E6 7B05            721     D0_5S:MOV R3, #5
05E8 758901          722     L_0_5:MOV TMOD,#01H
05EB 758C38          723           MOV TH0,#38H
05EE 758A9E          724               MOV TL0,#9EH
05F1 D28C            725               SETB TR0
05F3 308DFD          726               JNB TF0,$
05F6 C28D            727               CLR TF0
05F8 DBEE            728               DJNZ R3, L_0_5
05FA C28C            729               CLR TR0
05FC 22              730               RET
                     731     ;------end------
                     732     ;-------delay 2s---------
05FD 7B14            733     D2s:  MOV R3, #20
05FF 758901          734     L_2:  MOV TMOD,#01H
                     735     ;      MOV TH0, #36H
                     736     ;         MOV TL0, #0D3H
0602 758C38          737           MOV TH0, #38H
0605 758A91          738               MOV TL0, #91H
0608 D28C            739               SETB TR0
060A 308DFD          740               JNB TF0,$
060D C28D            741               CLR TF0
060F DBEE            742               DJNZ R3, L_2
0611 C28C            743               CLR TR0
0613 22              744               RET
                     745     ;--------end-------
                     746     
                     747     ;--------------------------------------------------------------×Ó³ÌÐò½áÊø------------------
                             -------------------------------
                     748     ;--------------±í¸ñ----------------
0614 C0603018        749     TABLE1:DB 0C0H,60H,30H,18H,0CH,84H
0618 0C84                    
061A 840C1830        750     TABLE2:DB 84H,0CH,18H,30H,60H,0C0H
061E 60C0                    
0620 FC60DAF2        751     TABLE3:DB 0FCH,60H,0DAH,0F2H,66H,0B6H,0BEH,0E0H,0FEH,0F6H,  0ECH,02H ,7CH
0624 66B6BEE0                
0628 FEF6EC02                
062C 7C                      
                     752     ;                                                             A , B  , C
062D FD61DBF3        753     TABLE4:DB 0FDH,61H,0DBH,0F3H,67H,0B7H,0BFH,0E1H,0FFH,0F7H,  0EDH,03H
0631 67B7BFE1                
0635 FFF7ED03                
                     754     ;------------±í¸ñ½áÊø---------------
                     755     ; Peripheral specific initialization functions,
                     756     ; Called from the Init_Device label
0639                 757     PCA_Init:
0639 53D9BF          758         anl  PCA0MD,    #0BFh
063C 75D900          759         mov  PCA0MD,    #000h
063F 22              760         ret
                     761     
0640                 762     Timer_Init:
0640 758901          763         mov  TMOD,      #001h
0643 758E02          764         mov  CKCON,     #002h
0646 22              765         ret
                     766     
0647                 767     Port_IO_Init:
                     768         ; P0.0  -  Unassigned,  Open-Drain, Digital
                     769         ; P0.1  -  Unassigned,  Open-Drain, Digital
                     770         ; P0.2  -  Unassigned,  Open-Drain, Digital
                     771         ; P0.3  -  Unassigned,  Open-Drain, Digital
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    13

                     772         ; P0.4  -  Unassigned,  Open-Drain, Digital
                     773         ; P0.5  -  Unassigned,  Open-Drain, Digital
                     774         ; P0.6  -  Unassigned,  Open-Drain, Digital
                     775         ; P0.7  -  Unassigned,  Open-Drain, Digital
                     776     
                     777         ; P1.0  -  Unassigned,  Open-Drain, Digital
                     778         ; P1.1  -  Unassigned,  Open-Drain, Digital
                     779         ; P1.2  -  Unassigned,  Open-Drain, Digital
                     780         ; P1.3  -  Unassigned,  Open-Drain, Digital
                     781         ; P1.4  -  Unassigned,  Open-Drain, Digital
                     782         ; P1.5  -  Unassigned,  Open-Drain, Digital
                     783         ; P1.6  -  Unassigned,  Open-Drain, Digital
                     784         ; P1.7  -  Unassigned,  Open-Drain, Digital
                     785         ; P2.0  -  Unassigned,  Open-Drain, Digital
                     786         ; P2.1  -  Unassigned,  Open-Drain, Digital
                     787         ; P2.2  -  Unassigned,  Open-Drain, Digital
                     788         ; P2.3  -  Unassigned,  Open-Drain, Digital
                     789     
0647 75E240          790         mov  XBR1,      #040h
064A 22              791         ret
                     792     
064B                 793     Oscillator_Init:
064B 75B283          794         mov  OSCICN,    #083h
064E 22              795         ret
                     796             
064F                 797     Interrupts_Init:
064F 75A881          798         mov  IE,        #081h
0652 22              799         ret
                     800     ; Initialization function for device,
                     801     ; Call Init_Device from your main program
0653                 802     Init_Device:
0653 120639          803         lcall PCA_Init
0656 120640          804         lcall Timer_Init
0659 120647          805         lcall Port_IO_Init
065C 12064B          806         lcall Oscillator_Init
065F 12064F          807             lcall Interrupts_Init
0662 22              808         ret
                     809     
                     810     end
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    14

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
ACK. . . . . . . .  B ADDR   00C0H.1 A   
ACKRQ. . . . . . .  B ADDR   00C0H.3 A   
AD0BUSY. . . . . .  B ADDR   00E8H.4 A   
AD0CM0 . . . . . .  B ADDR   00E8H.0 A   
AD0CM1 . . . . . .  B ADDR   00E8H.1 A   
AD0CM2 . . . . . .  B ADDR   00E8H.2 A   
AD0EN. . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . .  B ADDR   00E8H.5 A   
AD0TM. . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . .  B ADDR   00E8H.3 A   
ADC0CF . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . .  D ADDR   00C4H   A   
ADC0GTL. . . . . .  D ADDR   00C3H   A   
ADC0H. . . . . . .  D ADDR   00BEH   A   
ADC0L. . . . . . .  D ADDR   00BDH   A   
ADC0LTH. . . . . .  D ADDR   00C6H   A   
ADC0LTL. . . . . .  D ADDR   00C5H   A   
AMX0N. . . . . . .  D ADDR   00BAH   A   
AMX0P. . . . . . .  D ADDR   00BBH   A   
ARBLOST. . . . . .  B ADDR   00C0H.2 A   
B. . . . . . . . .  D ADDR   00F0H   A   
BEEP . . . . . . .  B ADDR   00B0H.1 A   
BIG. . . . . . . .  C ADDR   0566H   A   
BIGNEW . . . . . .  C ADDR   055AH   A   
BIG_LOP. . . . . .  C ADDR   055DH   A   
BIG_LOP0 . . . . .  C ADDR   055AH   A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . .  D ADDR   008EH   A   
CLKSEL . . . . . .  D ADDR   00A9H   A   
COUNT. . . . . . .  N NUMB   0031H   A   
CPT0CN . . . . . .  D ADDR   009BH   A   
CPT0MD . . . . . .  D ADDR   009DH   A   
CPT0MX . . . . . .  D ADDR   009FH   A   
CPT1CN . . . . . .  D ADDR   009AH   A   
CPT1MD . . . . . .  D ADDR   009CH   A   
CPT1MX . . . . . .  D ADDR   009EH   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
D0_5S. . . . . . .  C ADDR   05E6H   A   
D10MS. . . . . . .  C ADDR   05D3H   A   
D1MS . . . . . . .  C ADDR   05C0H   A   
D2S. . . . . . . .  C ADDR   05FDH   A   
DEFER. . . . . . .  C ADDR   0576H   A   
DEFER_LOP. . . . .  C ADDR   058BH   A   
DEF_L. . . . . . .  C ADDR   05B9H   A   
DIGPRO . . . . . .  C ADDR   0408H   A   
DISPLAY. . . . . .  C ADDR   052EH   A   
DISPLAY1 . . . . .  C ADDR   0544H   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . .  D ADDR   00E6H   A   
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    15

EIP1 . . . . . . .  D ADDR   00F6H   A   
EMI0CN . . . . . .  D ADDR   00AAH   A   
ES0. . . . . . . .  B ADDR   00A8H.4 A   
ESPI0. . . . . . .  B ADDR   00A8H.6 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXIT . . . . . . .  C ADDR   044BH   A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FIRST. . . . . . .  C ADDR   049BH   A   
FLACL. . . . . . .  D ADDR   00B5H   A   
FLKEY. . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . .  D ADDR   00B6H   A   
FUNC1. . . . . . .  C ADDR   03D6H   A   
FUNC2. . . . . . .  C ADDR   03DAH   A   
FUNC3. . . . . . .  C ADDR   03E5H   A   
FUNC4. . . . . . .  C ADDR   03F2H   A   
FUNC5. . . . . . .  C ADDR   03F7H   A   
FUNC6. . . . . . .  C ADDR   03FBH   A   
HERE . . . . . . .  C ADDR   03EFH   A   
HERE1. . . . . . .  C ADDR   0405H   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
INIT_DEVICE. . . .  C ADDR   0653H   A   
INTERRUPTS_INIT. .  C ADDR   064FH   A   
INTT0. . . . . . .  C ADDR   0300H   A   
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT01CF . . . . . .  D ADDR   00E4H   A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
JMPNUM . . . . . .  C ADDR   040EH   A   
JMPTBL . . . . . .  C ADDR   03C9H   A   
KEXAM. . . . . . .  C ADDR   039EH   A   
KEY1 . . . . . . .  C ADDR   031EH   A   
KEY2 . . . . . . .  C ADDR   0322H   A   
KEY3 . . . . . . .  C ADDR   037FH   A   
KEY4 . . . . . . .  C ADDR   0381H   A   
KEY5 . . . . . . .  C ADDR   0385H   A   
KEYADR . . . . . .  C ADDR   03BAH   A   
KEYPRO . . . . . .  C ADDR   030AH   A   
KEYTBL . . . . . .  C ADDR   03C1H   A   
KINT . . . . . . .  B ADDR   0080H.1 A   
KYARD1 . . . . . .  C ADDR   03BFH   A   
LED. . . . . . . .  B ADDR   0080H.0 A   
LOOP . . . . . . .  C ADDR   010BH   A   
L_0_5. . . . . . .  C ADDR   05E8H   A   
L_2. . . . . . . .  C ADDR   05FFH   A   
MAIN . . . . . . .  C ADDR   0100H   A   
MASTER . . . . . .  B ADDR   00C0H.7 A   
MCE0 . . . . . . .  B ADDR   0098H.5 A   
MN . . . . . . . .  N NUMB   0030H   A   
MODF . . . . . . .  B ADDR   00F8H.5 A   
MOOD . . . . . . .  C ADDR   049BH   A   
NEXT . . . . . . .  C ADDR   03E3H   A   
NSSMD0 . . . . . .  B ADDR   00F8H.2 A   
NSSMD1 . . . . . .  B ADDR   00F8H.3 A   
NUM0 . . . . . . .  C ADDR   0423H   A   
NUM1 . . . . . . .  C ADDR   0427H   A   
NUM2 . . . . . . .  C ADDR   042BH   A   
NUM3 . . . . . . .  C ADDR   042FH   A   
NUM4 . . . . . . .  C ADDR   0433H   A   
NUM5 . . . . . . .  C ADDR   0437H   A   
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    16

NUM6 . . . . . . .  C ADDR   043BH   A   
NUM7 . . . . . . .  C ADDR   043FH   A   
NUM8 . . . . . . .  C ADDR   0443H   A   
NUM9 . . . . . . .  C ADDR   0447H   A   
ORIENT . . . . . .  C ADDR   0461H   A   
ORI_LOP. . . . . .  C ADDR   047BH   A   
OSCICL . . . . . .  D ADDR   00B3H   A   
OSCICN . . . . . .  D ADDR   00B2H   A   
OSCILLATOR_INIT. .  C ADDR   064BH   A   
OSCXCN . . . . . .  D ADDR   00B1H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0MDIN . . . . . .  D ADDR   00F1H   A   
P0MDOUT. . . . . .  D ADDR   00A4H   A   
P0SKIP . . . . . .  D ADDR   00D4H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . .  D ADDR   00F2H   A   
P1MDOUT. . . . . .  D ADDR   00A5H   A   
P1SKIP . . . . . .  D ADDR   00D5H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2MDIN . . . . . .  D ADDR   00F3H   A   
P2MDOUT. . . . . .  D ADDR   00A6H   A   
P2SKIP . . . . . .  D ADDR   00D6H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3MDIN . . . . . .  D ADDR   00F4H   A   
P3MDOUT. . . . . .  D ADDR   00A7H   A   
PAUSE1 . . . . . .  C ADDR   056CH   A   
PCA0CN . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . .  D ADDR   00FCH   A   
PCA0CPH1 . . . . .  D ADDR   00EAH   A   
PCA0CPH2 . . . . .  D ADDR   00ECH   A   
PCA0CPH3 . . . . .  D ADDR   00EEH   A   
PCA0CPH4 . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . .  D ADDR   00FBH   A   
PCA0CPL1 . . . . .  D ADDR   00E9H   A   
PCA0CPL2 . . . . .  D ADDR   00EBH   A   
PCA0CPL3 . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . .  D ADDR   00FDH   A   
PCA0CPM0 . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . .  D ADDR   00FAH   A   
PCA0L. . . . . . .  D ADDR   00F9H   A   
PCA0MD . . . . . .  D ADDR   00D9H   A   
PCA_INIT . . . . .  C ADDR   0639H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PORT_IO_INIT . . .  C ADDR   0647H   A   
PS0. . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . .  D ADDR   008FH   A   
PSPI0. . . . . . .  B ADDR   00B8H.6 A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB80 . . . . . . .  B ADDR   0098H.2 A   
REF0CN . . . . . .  D ADDR   00D1H   A   
REN0 . . . . . . .  B ADDR   0098H.4 A   
RI0. . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . .  D ADDR   00EFH   A   
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    17

RXOVRN . . . . . .  B ADDR   00F8H.4 A   
S0MODE . . . . . .  B ADDR   0098H.7 A   
SBUF0. . . . . . .  D ADDR   0099H   A   
SCON0. . . . . . .  D ADDR   0098H   A   
SECOND . . . . . .  C ADDR   04E4H   A   
SI . . . . . . . .  B ADDR   00C0H.0 A   
SMB0CF . . . . . .  D ADDR   00C1H   A   
SMB0CN . . . . . .  D ADDR   00C0H   A   
SMB0DAT. . . . . .  D ADDR   00C2H   A   
SP . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . .  D ADDR   00A1H   A   
SPI0CKR. . . . . .  D ADDR   00A2H   A   
SPI0CN . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . .  D ADDR   00A3H   A   
SPIEN. . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . .  B ADDR   00C0H.5 A   
START. . . . . . .  C ADDR   0450H   A   
STAY0. . . . . . .  C ADDR   04B5H   A   
STAY1. . . . . . .  C ADDR   04BDH   A   
STAY3. . . . . . .  C ADDR   0506H   A   
STO. . . . . . . .  B ADDR   00C0H.4 A   
T2SPLIT. . . . . .  B ADDR   00C8H.3 A   
T2XCLK . . . . . .  B ADDR   00C8H.0 A   
TABLE1 . . . . . .  C ADDR   0614H   A   
TABLE2 . . . . . .  C ADDR   061AH   A   
TABLE3 . . . . . .  C ADDR   0620H   A   
TABLE4 . . . . . .  C ADDR   062DH   A   
TB80 . . . . . . .  B ADDR   0098H.3 A   
TCON . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2H . . . . . . .  B ADDR   00C8H.7 A   
TF2L . . . . . . .  B ADDR   00C8H.6 A   
TF2LEN . . . . . .  B ADDR   00C8H.5 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TI0. . . . . . . .  B ADDR   0098H.1 A   
TIMER_INIT . . . .  C ADDR   0640H   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TMR2CN . . . . . .  D ADDR   00C8H   A   
TMR2H. . . . . . .  D ADDR   00CDH   A   
TMR2L. . . . . . .  D ADDR   00CCH   A   
TMR2RLH. . . . . .  D ADDR   00CBH   A   
TMR2RLL. . . . . .  D ADDR   00CAH   A   
TMR3CN . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . .  D ADDR   0092H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TXBMT. . . . . . .  B ADDR   00F8H.1 A   
TXMODE . . . . . .  B ADDR   00C0H.6 A   
VDM0CN . . . . . .  D ADDR   00FFH   A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
XBR0 . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . .  D ADDR   00E2H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
A51 MACRO ASSEMBLER  MAIN                                                                 06/10/2023 20:00:01 PAGE    18

